

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>lingvo.core.model_pruning.hparam module &mdash; Lingvo  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="lingvo.core.model_pruning.pruning module" href="lingvo.core.model_pruning.pruning.html" />
    <link rel="prev" title="lingvo.core.model_pruning package" href="lingvo.core.model_pruning.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Lingvo
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="lingvo.html">lingvo package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="lingvo.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="lingvo.core.html">lingvo.core package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="lingvo.core.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="lingvo.core.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="lingvo.tasks.html">lingvo.tasks package</a></li>
<li class="toctree-l3"><a class="reference internal" href="lingvo.tools.html">lingvo.tools package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lingvo.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Lingvo</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="lingvo.html">lingvo package</a> &raquo;</li>
        
          <li><a href="lingvo.core.html">lingvo.core package</a> &raquo;</li>
        
          <li><a href="lingvo.core.model_pruning.html">lingvo.core.model_pruning package</a> &raquo;</li>
        
      <li>lingvo.core.model_pruning.hparam module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/lingvo.core.model_pruning.hparam.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-lingvo.core.model_pruning.hparam">
<span id="lingvo-core-model-pruning-hparam-module"></span><h1>lingvo.core.model_pruning.hparam module<a class="headerlink" href="#module-lingvo.core.model_pruning.hparam" title="Permalink to this headline">¶</a></h1>
<p>Hyperparameter values.</p>
<dl class="function">
<dt id="lingvo.core.model_pruning.hparam._parse_fail">
<code class="sig-prename descclassname">lingvo.core.model_pruning.hparam.</code><code class="sig-name descname">_parse_fail</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">var_type</em>, <em class="sig-param">value</em>, <em class="sig-param">values</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/model_pruning/hparam.html#_parse_fail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.core.model_pruning.hparam._parse_fail" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function for raising a value error for bad assignment.</p>
</dd></dl>

<dl class="function">
<dt id="lingvo.core.model_pruning.hparam._reuse_fail">
<code class="sig-prename descclassname">lingvo.core.model_pruning.hparam.</code><code class="sig-name descname">_reuse_fail</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">values</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/model_pruning/hparam.html#_reuse_fail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.core.model_pruning.hparam._reuse_fail" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function for raising a value error for reuse of name.</p>
</dd></dl>

<dl class="function">
<dt id="lingvo.core.model_pruning.hparam._process_scalar_value">
<code class="sig-prename descclassname">lingvo.core.model_pruning.hparam.</code><code class="sig-name descname">_process_scalar_value</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">parse_fn</em>, <em class="sig-param">var_type</em>, <em class="sig-param">m_dict</em>, <em class="sig-param">values</em>, <em class="sig-param">results_dictionary</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/model_pruning/hparam.html#_process_scalar_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.core.model_pruning.hparam._process_scalar_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Update results_dictionary with a scalar value.</p>
<p>Used to update the results_dictionary to be returned by parse_values when
encountering a clause with a scalar RHS (e.g.  “s=5” or “arr[0]=5”.)</p>
<p>Mutates results_dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of variable in assignment (“s” or “arr”).</p></li>
<li><p><strong>parse_fn</strong> – Function for parsing the actual value.</p></li>
<li><p><strong>var_type</strong> – Type of named variable.</p></li>
<li><p><strong>m_dict</strong> – Dictionary constructed from regex parsing.
m_dict[‘val’]: RHS value (scalar)
m_dict[‘index’]: List index value (or None)</p></li>
<li><p><strong>values</strong> – Full expression being parsed</p></li>
<li><p><strong>results_dictionary</strong> – The dictionary being updated for return by the parsing
function.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the name has already been used.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="lingvo.core.model_pruning.hparam._process_list_value">
<code class="sig-prename descclassname">lingvo.core.model_pruning.hparam.</code><code class="sig-name descname">_process_list_value</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">parse_fn</em>, <em class="sig-param">var_type</em>, <em class="sig-param">m_dict</em>, <em class="sig-param">values</em>, <em class="sig-param">results_dictionary</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/model_pruning/hparam.html#_process_list_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.core.model_pruning.hparam._process_list_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Update results_dictionary from a list of values.</p>
<p>Used to update results_dictionary to be returned by parse_values when
encountering a clause with a list RHS (e.g.  “arr=[1,2,3]”.)</p>
<p>Mutates results_dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of variable in assignment (“arr”).</p></li>
<li><p><strong>parse_fn</strong> – Function for parsing individual values.</p></li>
<li><p><strong>var_type</strong> – Type of named variable.</p></li>
<li><p><strong>m_dict</strong> – Dictionary constructed from regex parsing.
m_dict[‘val’]: RHS value (scalar)</p></li>
<li><p><strong>values</strong> – Full expression being parsed</p></li>
<li><p><strong>results_dictionary</strong> – The dictionary being updated for return by the parsing
function.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the name has an index or the values cannot be parsed.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="lingvo.core.model_pruning.hparam._cast_to_type_if_compatible">
<code class="sig-prename descclassname">lingvo.core.model_pruning.hparam.</code><code class="sig-name descname">_cast_to_type_if_compatible</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">param_type</em>, <em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/model_pruning/hparam.html#_cast_to_type_if_compatible"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.core.model_pruning.hparam._cast_to_type_if_compatible" title="Permalink to this definition">¶</a></dt>
<dd><p>Cast hparam to the provided type, if compatible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of the hparam to be cast.</p></li>
<li><p><strong>param_type</strong> – The type of the hparam.</p></li>
<li><p><strong>value</strong> – The value to be cast, if compatible.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The result of casting <code class="xref py py-obj docutils literal notranslate"><span class="pre">value</span></code> to <code class="xref py py-obj docutils literal notranslate"><span class="pre">param_type</span></code>.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If the type of <code class="xref py py-obj docutils literal notranslate"><span class="pre">value</span></code> is not compatible with param_type.
    * If <code class="xref py py-obj docutils literal notranslate"><span class="pre">param_type</span></code> is a string type, but <code class="xref py py-obj docutils literal notranslate"><span class="pre">value</span></code> is not.
    * If <code class="xref py py-obj docutils literal notranslate"><span class="pre">param_type</span></code> is a boolean, but <code class="xref py py-obj docutils literal notranslate"><span class="pre">value</span></code> is not, or vice versa.
    * If <code class="xref py py-obj docutils literal notranslate"><span class="pre">param_type</span></code> is an integer type, but <code class="xref py py-obj docutils literal notranslate"><span class="pre">value</span></code> is not.
    * If <code class="xref py py-obj docutils literal notranslate"><span class="pre">param_type</span></code> is a float type, but <code class="xref py py-obj docutils literal notranslate"><span class="pre">value</span></code> is not a numeric type.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="lingvo.core.model_pruning.hparam.parse_values">
<code class="sig-prename descclassname">lingvo.core.model_pruning.hparam.</code><code class="sig-name descname">parse_values</code><span class="sig-paren">(</span><em class="sig-param">values</em>, <em class="sig-param">type_map</em>, <em class="sig-param">ignore_unknown=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/model_pruning/hparam.html#parse_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.core.model_pruning.hparam.parse_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses hyperparameter values from a string into a python map.</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">values</span></code> is a string containing comma-separated <code class="xref py py-obj docutils literal notranslate"><span class="pre">name=value</span></code> pairs.
For each pair, the value of the hyperparameter named <code class="xref py py-obj docutils literal notranslate"><span class="pre">name</span></code> is set to
<code class="xref py py-obj docutils literal notranslate"><span class="pre">value</span></code>.</p>
<p>If a hyperparameter name appears multiple times in <code class="xref py py-obj docutils literal notranslate"><span class="pre">values</span></code>, a ValueError
is raised (e.g. ‘a=1,a=2’, ‘a[1]=1,a[1]=2’).</p>
<p>If a hyperparameter name in both an index assignment and scalar assignment,
a ValueError is raised.  (e.g. ‘a=[1,2,3],a[0] = 1’).</p>
<p>The hyperparameter name may contain ‘.’ symbols, which will result in an
attribute name that is only accessible through the getattr and setattr
functions.  (And must be first explicit added through add_hparam.)</p>
<p>WARNING: Use of ‘.’ in your variable names is allowed, but is not well
supported and not recommended.</p>
<p>The <code class="xref py py-obj docutils literal notranslate"><span class="pre">value</span></code> in <code class="xref py py-obj docutils literal notranslate"><span class="pre">name=value</span></code> must follows the syntax according to the
type of the parameter:</p>
<ul class="simple">
<li><p>Scalar integer: A Python-parsable integer point value.  E.g.: 1,
100, -12.</p></li>
<li><p>Scalar float: A Python-parsable floating point value.  E.g.: 1.0,
-.54e89.</p></li>
<li><p>Boolean: Either true or false.</p></li>
<li><p>Scalar string: A non-empty sequence of characters, excluding comma,
spaces, and square brackets.  E.g.: foo, bar_1.</p></li>
<li><p>List: A comma separated list of scalar values of the parameter type
enclosed in square brackets.  E.g.: [1,2,3], [1.0,1e-12], [high,low].</p></li>
</ul>
<p>When index assignment is used, the corresponding type_map key should be the
list name.  E.g. for “arr[1]=0” the type_map must have the key “arr” (not
“arr[1]”).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> – String.  Comma separated list of <code class="xref py py-obj docutils literal notranslate"><span class="pre">name=value</span></code> pairs where
‘value’ must follow the syntax described above.</p></li>
<li><p><strong>type_map</strong> – A dictionary mapping hyperparameter names to types.  Note every
parameter name in values must be a key in type_map.  The values must
conform to the types indicated, where a value V is said to conform to a
type T if either V has type T, or V is a list of elements of type T.
Hence, for a multidimensional parameter ‘x’ taking float values,
‘x=[0.1,0.2]’ will parse successfully if type_map[‘x’] = float.</p></li>
<li><p><strong>ignore_unknown</strong> – Bool. Whether values that are missing a type in type_map
should be ignored. If set to True, a ValueError will not be raised for
unknown hyperparameter type.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p>A scalar value.</p></li>
<li><p>A list of scalar values.</p></li>
<li><p>A dictionary mapping index numbers to scalar values.
(e.g. <code class="xref py py-obj docutils literal notranslate"><span class="pre">&quot;x=5,L=[1,2],arr[1]=3&quot;</span></code> results in <code class="xref py py-obj docutils literal notranslate"><span class="pre">{'x':5,'L':[1,2],'arr':{1:3}}</span></code>)</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>A python map mapping each name to either</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If there is a problem with input.</p></li>
<li><p><strong>* If values cannot be parsed.</strong> – </p></li>
<li><p><strong>* If a list is assigned to a list index</strong><strong> (</strong><strong>e.g. 'a</strong><strong>[</strong><strong>1</strong><strong>] </strong><strong>=</strong><strong> [</strong><strong>1</strong><strong>,</strong><strong>2</strong><strong>,</strong><strong>3</strong><strong>]</strong><strong>'</strong><strong>)</strong><strong></strong> – </p></li>
<li><p><strong>* If the same rvalue is assigned two different values</strong><strong> (</strong><strong>e.g. 'a=1</strong><strong>,</strong><strong>a=2'</strong><strong>,</strong> – ‘a[1]=1,a[1]=2’, or ‘a=1,a=[1]’)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="lingvo.core.model_pruning.hparam.HParams">
<em class="property">class </em><code class="sig-prename descclassname">lingvo.core.model_pruning.hparam.</code><code class="sig-name descname">HParams</code><span class="sig-paren">(</span><em class="sig-param">model_structure=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/model_pruning/hparam.html#HParams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.core.model_pruning.hparam.HParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2.7/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Class to hold a set of hyperparameters as name-value pairs.</p>
<p>A <a class="reference internal" href="#lingvo.core.model_pruning.hparam.HParams" title="lingvo.core.model_pruning.hparam.HParams"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HParams</span></code></a> object holds hyperparameters used to build and train a model,
such as the number of hidden units in a neural net layer or the learning rate
to use when training.</p>
<p>You first create a <a class="reference internal" href="#lingvo.core.model_pruning.hparam.HParams" title="lingvo.core.model_pruning.hparam.HParams"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HParams</span></code></a> object by specifying the names and values of the
hyperparameters.</p>
<p>To make them easily accessible the parameter names are added as direct
attributes of the class.  A typical usage is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a HParams object specifying names and values of the model</span>
<span class="c1"># hyperparameters:</span>
<span class="n">hparams</span> <span class="o">=</span> <span class="n">HParams</span><span class="p">(</span><span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">num_hidden_units</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="c1"># The hyperparameter are available as attributes of the HParams object:</span>
<span class="n">hparams</span><span class="o">.</span><span class="n">learning_rate</span> <span class="o">==&gt;</span> <span class="mf">0.1</span>
<span class="n">hparams</span><span class="o">.</span><span class="n">num_hidden_units</span> <span class="o">==&gt;</span> <span class="mi">100</span>
</pre></div>
</div>
<p>Hyperparameters have type, which is inferred from the type of their value
passed at construction type.   The currently supported types are: integer,
float, boolean, string, and list of integer, float, boolean, or string.</p>
<p>You can override hyperparameter values by calling the
[<a class="reference internal" href="#lingvo.core.model_pruning.hparam.HParams.parse" title="lingvo.core.model_pruning.hparam.HParams.parse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parse()</span></code></a>](#HParams.parse) method, passing a string of comma separated
<code class="xref py py-obj docutils literal notranslate"><span class="pre">name=value</span></code> pairs.  This is intended to make it possible to override
any hyperparameter values from a single command-line flag to which
the user passes ‘hyper-param=value’ pairs.  It avoids having to define
one flag for each hyperparameter.</p>
<p>The syntax expected for each value depends on the type of the parameter.
See <a class="reference internal" href="#lingvo.core.model_pruning.hparam.HParams.parse" title="lingvo.core.model_pruning.hparam.HParams.parse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parse()</span></code></a> for a description of the syntax.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define a command line flag to pass name=value pairs.</span>
<span class="c1"># For example using argparse:</span>
<span class="kn">import</span> <span class="nn">argparse</span>
<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;Train my model.&#39;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--hparams&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span>
                    <span class="n">help</span><span class="o">=</span><span class="s1">&#39;Comma separated list of &quot;name=value&quot; pairs.&#39;</span><span class="p">)</span>
<span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>
<span class="o">...</span>
<span class="k">def</span> <span class="nf">my_program</span><span class="p">():</span>
  <span class="c1"># Create a HParams object specifying the names and values of the</span>
  <span class="c1"># model hyperparameters:</span>
  <span class="n">hparams</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">HParams</span><span class="p">(</span><span class="n">learning_rate</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">num_hidden_units</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                       <span class="n">activations</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;relu&#39;</span><span class="p">,</span> <span class="s1">&#39;tanh&#39;</span><span class="p">])</span>

  <span class="c1"># Override hyperparameters values by parsing the command line</span>
  <span class="n">hparams</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">args</span><span class="o">.</span><span class="n">hparams</span><span class="p">)</span>

  <span class="c1"># If the user passed `--hparams=learning_rate=0.3` on the command line</span>
  <span class="c1"># then &#39;hparams&#39; has the following attributes:</span>
  <span class="n">hparams</span><span class="o">.</span><span class="n">learning_rate</span> <span class="o">==&gt;</span> <span class="mf">0.3</span>
  <span class="n">hparams</span><span class="o">.</span><span class="n">num_hidden_units</span> <span class="o">==&gt;</span> <span class="mi">100</span>
  <span class="n">hparams</span><span class="o">.</span><span class="n">activations</span> <span class="o">==&gt;</span> <span class="p">[</span><span class="s1">&#39;relu&#39;</span><span class="p">,</span> <span class="s1">&#39;tanh&#39;</span><span class="p">]</span>

  <span class="c1"># If the hyperparameters are in json format use parse_json:</span>
  <span class="n">hparams</span><span class="o">.</span><span class="n">parse_json</span><span class="p">(</span><span class="s1">&#39;{&quot;learning_rate&quot;: 0.3, &quot;activations&quot;: &quot;relu&quot;}&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="lingvo.core.model_pruning.hparam.HParams._HAS_DYNAMIC_ATTRIBUTES">
<code class="sig-name descname">_HAS_DYNAMIC_ATTRIBUTES</code><em class="property"> = True</em><a class="headerlink" href="#lingvo.core.model_pruning.hparam.HParams._HAS_DYNAMIC_ATTRIBUTES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lingvo.core.model_pruning.hparam.HParams.add_hparam">
<code class="sig-name descname">add_hparam</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/model_pruning/hparam.html#HParams.add_hparam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.core.model_pruning.hparam.HParams.add_hparam" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds {name, value} pair to hyperparameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of the hyperparameter.</p></li>
<li><p><strong>value</strong> – Value of the hyperparameter. Can be one of the following types:
int, float, string, int list, float list, or string list.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – if one of the arguments is invalid.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="lingvo.core.model_pruning.hparam.HParams.set_hparam">
<code class="sig-name descname">set_hparam</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/model_pruning/hparam.html#HParams.set_hparam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.core.model_pruning.hparam.HParams.set_hparam" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the value of an existing hyperparameter.</p>
<p>This function verifies that the type of the value matches the type of the
existing hyperparameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of the hyperparameter.</p></li>
<li><p><strong>value</strong> – New value of the hyperparameter.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>KeyError</strong> – If the hyperparameter doesn’t exist.</p></li>
<li><p><strong>ValueError</strong> – If there is a type mismatch.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="lingvo.core.model_pruning.hparam.HParams.del_hparam">
<code class="sig-name descname">del_hparam</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/model_pruning/hparam.html#HParams.del_hparam"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.core.model_pruning.hparam.HParams.del_hparam" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the hyperparameter with key ‘name’.</p>
<p>Does nothing if it isn’t present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – Name of the hyperparameter.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="lingvo.core.model_pruning.hparam.HParams.parse">
<code class="sig-name descname">parse</code><span class="sig-paren">(</span><em class="sig-param">values</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/model_pruning/hparam.html#HParams.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.core.model_pruning.hparam.HParams.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Override existing hyperparameter values, parsing new values from a string.</p>
<p>See parse_values for more detail on the allowed format for values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>values</strong> – String.  Comma separated list of <code class="xref py py-obj docutils literal notranslate"><span class="pre">name=value</span></code> pairs where ‘value’
must follow the syntax described above.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The <a class="reference internal" href="#lingvo.core.model_pruning.hparam.HParams" title="lingvo.core.model_pruning.hparam.HParams"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HParams</span></code></a> instance.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError</strong> – If <a class="reference internal" href="#lingvo.core.model_pruning.hparam.HParams.values" title="lingvo.core.model_pruning.hparam.HParams.values"><code class="xref py py-obj docutils literal notranslate"><span class="pre">values</span></code></a> cannot be parsed or a hyperparameter in <a class="reference internal" href="#lingvo.core.model_pruning.hparam.HParams.values" title="lingvo.core.model_pruning.hparam.HParams.values"><code class="xref py py-obj docutils literal notranslate"><span class="pre">values</span></code></a></p></li>
<li><p><strong>doesn't exist.</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="lingvo.core.model_pruning.hparam.HParams.override_from_dict">
<code class="sig-name descname">override_from_dict</code><span class="sig-paren">(</span><em class="sig-param">values_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/model_pruning/hparam.html#HParams.override_from_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.core.model_pruning.hparam.HParams.override_from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Override existing hyperparameter values, parsing new values from a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>values_dict</strong> – Dictionary of name:value pairs.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The <a class="reference internal" href="#lingvo.core.model_pruning.hparam.HParams" title="lingvo.core.model_pruning.hparam.HParams"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HParams</span></code></a> instance.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>KeyError</strong> – If a hyperparameter in <code class="xref py py-obj docutils literal notranslate"><span class="pre">values_dict</span></code> doesn’t exist.</p></li>
<li><p><strong>ValueError</strong> – If <code class="xref py py-obj docutils literal notranslate"><span class="pre">values_dict</span></code> cannot be parsed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="lingvo.core.model_pruning.hparam.HParams.set_model_structure">
<code class="sig-name descname">set_model_structure</code><span class="sig-paren">(</span><em class="sig-param">model_structure</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/model_pruning/hparam.html#HParams.set_model_structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.core.model_pruning.hparam.HParams.set_model_structure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lingvo.core.model_pruning.hparam.HParams.get_model_structure">
<code class="sig-name descname">get_model_structure</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/model_pruning/hparam.html#HParams.get_model_structure"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.core.model_pruning.hparam.HParams.get_model_structure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lingvo.core.model_pruning.hparam.HParams.to_json">
<code class="sig-name descname">to_json</code><span class="sig-paren">(</span><em class="sig-param">indent=None</em>, <em class="sig-param">separators=None</em>, <em class="sig-param">sort_keys=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/model_pruning/hparam.html#HParams.to_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.core.model_pruning.hparam.HParams.to_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Serializes the hyperparameters into JSON.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indent</strong> – If a non-negative integer, JSON array elements and object members
will be pretty-printed with that indent level. An indent level of 0, or
negative, will only insert newlines. <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#None" title="(in Python v2.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> (the default) selects the
most compact representation.</p></li>
<li><p><strong>separators</strong> – Optional <code class="xref py py-obj docutils literal notranslate"><span class="pre">(item_separator,</span> <span class="pre">key_separator)</span></code> tuple. Default is
<code class="xref py py-obj docutils literal notranslate"><span class="pre">(',</span> <span class="pre">',</span> <span class="pre">':</span> <span class="pre">')</span></code>.</p></li>
<li><p><strong>sort_keys</strong> – If <a class="reference external" href="https://docs.python.org/2.7/library/constants.html#True" title="(in Python v2.7)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>, the output dictionaries will be sorted by key.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A JSON string.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="lingvo.core.model_pruning.hparam.HParams.parse_json">
<code class="sig-name descname">parse_json</code><span class="sig-paren">(</span><em class="sig-param">values_json</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/model_pruning/hparam.html#HParams.parse_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.core.model_pruning.hparam.HParams.parse_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Override existing hyperparameter values, parsing new values from a json object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>values_json</strong> – String containing a json object of name:value pairs.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The <a class="reference internal" href="#lingvo.core.model_pruning.hparam.HParams" title="lingvo.core.model_pruning.hparam.HParams"><code class="xref py py-obj docutils literal notranslate"><span class="pre">HParams</span></code></a> instance.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>KeyError</strong> – If a hyperparameter in <code class="xref py py-obj docutils literal notranslate"><span class="pre">values_json</span></code> doesn’t exist.</p></li>
<li><p><strong>ValueError</strong> – If <code class="xref py py-obj docutils literal notranslate"><span class="pre">values_json</span></code> cannot be parsed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="lingvo.core.model_pruning.hparam.HParams.values">
<code class="sig-name descname">values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/model_pruning/hparam.html#HParams.values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.core.model_pruning.hparam.HParams.values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the hyperparameter values as a Python dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary with hyperparameter names as keys.  The values are the
hyperparameter values.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="lingvo.core.model_pruning.hparam.HParams.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/model_pruning/hparam.html#HParams.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.core.model_pruning.hparam.HParams.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of <code class="xref py py-obj docutils literal notranslate"><span class="pre">key</span></code> if it exists, else <code class="xref py py-obj docutils literal notranslate"><span class="pre">default</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="lingvo.core.model_pruning.hparam.HParams._get_kind_name">
<em class="property">static </em><code class="sig-name descname">_get_kind_name</code><span class="sig-paren">(</span><em class="sig-param">param_type</em>, <em class="sig-param">is_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lingvo/core/model_pruning/hparam.html#HParams._get_kind_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lingvo.core.model_pruning.hparam.HParams._get_kind_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the field name given parameter type and is_list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param_type</strong> – Data type of the hparam.</p></li>
<li><p><strong>is_list</strong> – Whether this is a list.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string representation of the field name.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If parameter type is not recognized.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="lingvo.core.model_pruning.pruning.html" class="btn btn-neutral float-right" title="lingvo.core.model_pruning.pruning module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="lingvo.core.model_pruning.html" class="btn btn-neutral float-left" title="lingvo.core.model_pruning package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>